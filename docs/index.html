<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <title>Ext.ux.StateButton Examples</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/obsidian.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/extjs/3.4.1-1/resources/css/ext-all.css" media="screen" rel="Stylesheet" type="text/css" />
    <style type="text/css">

        body {
            font-family: Roboto;
            padding: 0px 20px;
            font-size: 16px;
            line-height: 1.5;
        }

        h1{
            font-size: 2em;
            border-bottom: 1px solid #eaecef;
            margin: 0.67em 0;
        }

        h1:first-of-type {
            margin-top: 0.2em;
        }

        em {
            font-style: italic;
        }

        .state1-icon {
            background-image: url(1.gif) !important;
        }

        .state2-icon {
            background-image: url(2.gif) !important;
        }

        .state3-icon {
            background-image: url(3.gif) !important;
        }

    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/extjs/3.4.1-1/adapter/ext/ext-base-debug.js" type="text/javascript">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/extjs/3.4.1-1/ext-all-debug.js" type="text/javascript">
    </script>
    <script type="text/javascript" src="state-button.js"></script>
    <script type="text/javascript">

      var stateChangeHandler = function (btn, state) {

        var mb = Ext.MessageBox.show({
          title: 'State Changed',
          msg: "The button with id <b>" + btn.id + "</b> fired the handler for state <b>" + state + "</b>",
          icon: Ext.Msg.INFO,
          buttons: Ext.MessageBox.OK,
          closable: false
        });

        console.log(mb);

        setTimeout(function () {
          mb.hide();
        }, 4000);

      };

      Ext.onReady(function () {

        Ext.BLANK_IMAGE_URL = 'https://cdnjs.cloudflare.com/ajax/libs/extjs/3.4.1-1/resources/images/default/s.gif';
        Ext.QuickTips.init();

        var tbMain = new Ext.Toolbar({
          enableOverflow: true
        });

        new Ext.Window({
          width: 500,
          height: 150,
          layout: 'border',
          closable: false,
          items: [
            new Ext.Panel({
              id: 'centerPanel',
              region: 'center',
              tbar: tbMain,
              bodyStyle: 'padding: 20px;',
              items: [
                new Ext.form.FormPanel({
                  bodyStyle: 'padding: 20px;',
                  items: [
                    new Ext.ux.StateButton({
                      id: 'form-state-button',
                      states: [ {
                        itemId: 'state1',
                        text: 'State 1',
                        iconCls: 'state1-icon',
                        tooltip: 'State 1 Custom Tooltip',
                        handler: stateChangeHandler
                      }, {
                        itemId: 'state2',
                        text: 'State 2',
                        iconCls: 'state2-icon',
                        tooltip: 'State 2',
                        handler: stateChangeHandler
                      } ]
                    })
                  ]
                })
              ]
            })
          ]
        }).show(this);

        tbMain.add('-', {
          text: 'Just a Button',
          tooltip: 'Clicking me does nothing.'
        }, '-');

        tbMain.add(new Ext.ux.StateButton({
          id: 'toolbar-state-button',
          states: [ {
            itemId: 'state1',
            text: 'TB State 1',
            iconCls: 'state1-icon',
            handler: stateChangeHandler,
            overflowText: 'State 1 Overflow Menu'
          }, {
            itemId: 'state2',
            text: 'TB State 2',
            iconCls: 'state2-icon',
            handler: stateChangeHandler,
            overflowText: "State 2 won't fit on the toolbar"
          }, {
            itemId: 'state3',
            text: 'TB State 3',
            iconCls: 'state3-icon',
            handler: stateChangeHandler,
            overflowText: 'State 3 Overflowing'
          } ]
        }));

        tbMain.doLayout();
      });

    </script>

</head>
<body>
<h1>Ext.ux.StateButton</h1>
<p>StateButton is a Button which has various <em>states</em>. When the Button is clicked, it cycles to the next <em>state</em>.
    The <em>state</em> can also be set programmatically.</p>
<p>Each <em>state</em> can be configured with a different icon, text, overflow text, event handler etc.</p>
<hr>
<p>The following code was used to create the toolbar instance:</p>
<pre>
    <code class="javascript">
        new Ext.ux.StateButton({
          id: 'toolbar-state-button',
          states: [ {
            itemId: 'state1',
            text: 'TB State 1',
            iconCls: 'state1-icon',
            handler: stateChange,
            overflowText: 'State 1 Overflow Menu'
          }, {
            itemId: 'state2',
            text: 'TB State 2',
            iconCls: 'state2-icon',
            handler: stateChange,
            overflowText: "State 2 won't fit on the toolbar"
          }, {
            itemId: 'state3',
            text: 'TB State 3',
            iconCls: 'state3-icon',
            handler: stateChange,
            overflowText: 'State 3 Overflowing'
          } ]
        })
    </code>
</pre>

<p>The following code was used to create the form instance:</p>
<pre>
    <code class="javascript">
        new Ext.ux.StateButton({
          id: 'form-state-button',
          states: [ {
            itemId: 'state1',
            text: 'State 1',
            iconCls: 'state1-icon',
            tooltip: 'State 1 Custom Tooltip',
            handler: stateChange
          }, {
            itemId: 'state2',
            text: 'State 2',
            iconCls: 'state2-icon',
            tooltip: 'State 2',
            handler: stateChange
          } ]
        })
    </code>
</pre>
<div id="panel">
</div>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
